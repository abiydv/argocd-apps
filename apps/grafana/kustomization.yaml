apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

helmCharts:
- name: grafana
  namespace: grafana
  repo: https://grafana.github.io/helm-charts
  version: 6.57.0
  releaseName: grafana
  valuesFile: values.yaml
  # This ensures kustomize links the correct autogenerated config map to grafana config
  valuesInLine:
    dashboardsConfigMaps:
      default: default-dashboards

configMapGenerator:
- name: default-dashboards
  namespace: grafana
  files:
    - dashboards/custom1.json
    - dashboards/custom2.json
